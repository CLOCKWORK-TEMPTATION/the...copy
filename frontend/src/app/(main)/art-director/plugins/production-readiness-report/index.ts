// CineArchitect AI - Production Readiness Report Prompt Builder
// ูููุดุฆ ุชูุฑูุฑ ุฌุงูุฒูุฉ ุงูุฅูุชุงุฌ

import { Plugin, PluginInput, PluginOutput } from '../../types';

interface RepositoryAnalysisData {
  languages?: string[];
  hasPackageJson?: boolean;
  hasRequirementsTxt?: boolean;
  hasPyprojectToml?: boolean;
  hasDockerfile?: boolean;
  hasTests?: boolean;
  hasCI?: boolean;
  hasReadme?: boolean;
  hasGitignore?: boolean;
  fileStructure?: string[];
  packageJsonContent?: string | null;
  readmeContent?: string | null;
  requirementsContent?: string | null;
}

interface ProductionReadinessPromptInput {
  owner: string;
  repo: string;
  analysisData: RepositoryAnalysisData;
}

const MAX_PACKAGE_JSON_CHARS = 2000;
const MAX_README_CHARS = 2000;
const MAX_REQUIREMENTS_CHARS = 1000;

const formatFileSection = (title: string, content: string, maxChars: number): string =>
  `\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n${title}\nโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ\n${content.substring(0, maxChars)}\n`;

const buildPrompt = ({ owner, repo, analysisData }: ProductionReadinessPromptInput): string => {
  const languages = analysisData.languages?.length ? analysisData.languages.join(', ') : 'ุบูุฑ ูุญุฏุฏุฉ';
  const fileStructure = analysisData.fileStructure?.length
    ? analysisData.fileStructure.join('\n')
    : 'ุบูุฑ ูุชููุฑ';

  const packageJsonSection = analysisData.packageJsonContent
    ? formatFileSection('๐ฆ ูุญุชูู package.json', analysisData.packageJsonContent, MAX_PACKAGE_JSON_CHARS)
    : '';

  const readmeSection = analysisData.readmeContent
    ? formatFileSection('๐ ูุญุชูู README', analysisData.readmeContent, MAX_README_CHARS)
    : '';

  const requirementsSection = analysisData.requirementsContent
    ? formatFileSection('๐ ูุญุชูู requirements.txt', analysisData.requirementsContent, MAX_REQUIREMENTS_CHARS)
    : '';

  return `ุฃูุช ุฎุจูุฑ ููุฏุณู ูุชุฎุตุต ูู ุชูููู ุฌุงูุฒูุฉ ุงูุชุทุจููุงุช ูููุดุฑ ูู ุจูุฆุงุช ุงูุฅูุชุงุฌ. ูููุชู ูู ุฅุฌุฑุงุก ูุฑุงุฌุนุฉ ููุฏุณูุฉ ุดุงููุฉ ููุชุงุจุฉ ุชูุฑูุฑ ุฌุงูุฒูุฉ ุฅูุชุงุฌ (Production Readiness Report) ุงุญุชุฑุงูู ูุชุทุจูู ููุจ ุชูุงุนูู.

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
 ุงูู ูููุฉ  ุชููู ุจุชุญููู  

ุงูุจููุฉ ุงูุชูููุฉ:
- package.json: ${analysisData.hasPackageJson ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}
- requirements.txt: ${analysisData.hasRequirementsTxt ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}
- pyproject.toml: ${analysisData.hasPyprojectToml ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}
- Dockerfile: ${analysisData.hasDockerfile ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}

ุถูุงู ุงูุฌูุฏุฉ:
- ุงุฎุชุจุงุฑุงุช ุขููุฉ: ${analysisData.hasTests ? 'โ ููุฌูุฏุฉ' : 'โ ุบูุฑ ููุฌูุฏุฉ'}
- CI/CD Pipeline: ${analysisData.hasCI ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}

ุงูุชูุซูู:
- README: ${analysisData.hasReadme ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}
- .gitignore: ${analysisData.hasGitignore ? 'โ ููุฌูุฏ' : 'โ ุบูุฑ ููุฌูุฏ'}

ูููู ุงููููุงุช:
${fileStructure}
${packageJsonSection}${readmeSection}${requirementsSection}
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ฏ ุงููุฌุงูุงุช ุงูููุฏุณูุฉ ููุชูููู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูู ุจุชูููู ุงูุชุทุจูู ุนุจุฑ ุงููุฌุงูุงุช ุงูููุฏุณูุฉ ุงูุนุดุฑุฉ ุงูุชุงููุฉ:

1๏ธโฃ **ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ (Core Functionality)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุงูุชูุงู ุงูููุฒุงุช ุงูุฃุณุงุณูุฉ ุงููุทููุจุฉ
   โข ุงุณุชูุฑุงุฑ ุงููุธุงุฆู ูุฎูููุง ูู ุงูุฃุฎุทุงุก ุงูุญุฑุฌุฉ
   โข ุชุบุทูุฉ ุญุงูุงุช ุงูุงุณุชุฎุฏุงู ุงูุฑุฆูุณูุฉ
   โข ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ูุงูุญุงูุงุช ุงูุงุณุชุซูุงุฆูุฉ

2๏ธโฃ **ุงูุฃุฏุงุก (Performance)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุฒูู ุชุญููู ุงูุตูุญุฉ ุงูุฃููู (< 3 ุซูุงูู)
   โข ุฒูู ุงูุงุณุชุฌุงุจุฉ ููุนูููุงุช (< 200ms)
   โข ููุงุกุฉ ุงุณุชุฎุฏุงู ุงูููุงุฑุฏ (Memory/CPU)
   โข ูุงุจููุฉ ุงูุชูุณุน ุงูุฃููู ูุงูุนููุฏู
   โข ุชุญุณูู ุงูุตูุฑ ูุงูุฃุตูู ุงูุซุงุจุชุฉ
   โข ุงุณุชุฑุงุชูุฌูุงุช ุงูุชุฎุฒูู ุงููุคูุช (Caching)

3๏ธโฃ **ุงูุฃูุงู (Security)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุขููุงุช ุงููุตุงุฏูุฉ ูุงูุชูููุถ (Authentication/Authorization)
   โข ุญูุงูุฉ ูู ุงูุซุบุฑุงุช ุงูุดุงุฆุนุฉ (OWASP Top 10)
   โข ุชุดููุฑ ุงูุจูุงูุงุช ุงูุญุณุงุณุฉ (ูู ุงูุญุฑูุฉ ููู ุงูุฑุงุญุฉ)
   โข ุฅุฏุงุฑุฉ ุงูุฃุณุฑุงุฑ ูุงูููุงุชูุญ (Secrets Management)
   โข ุญูุงูุฉ ูู CSRF, XSS, SQL Injection
   โข ุณูุงุณุงุช CORS ู Content Security Policy
   โข ุชุญุฏูุซุงุช ุฃูููุฉ ููููุชุจุงุช ูุงูุงุนุชูุงุฏูุงุช

4๏ธโฃ **ุงูุจููุฉ ุงูุชุญุชูุฉ (Infrastructure)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุชููุฑ ุจูุฆุงุช ูุชุนุฏุฏุฉ (Dev/Staging/Production)
   โข ุขููุงุช ุงููุดุฑ ุงูุขูู (Deployment Automation)
   โข ุฅุฏุงุฑุฉ ุงูุฅุนุฏุงุฏุงุช ุงูุจูุฆูุฉ (Environment Configuration)
   โข ุงุณุชุฑุงุชูุฌูุงุช ุงูุชูุณุน (Scaling Strategy)
   โข ุงูุชูุงูุฑูุฉ ุงูุนุงููุฉ (High Availability)
   โข ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุชููุงุฆู

5๏ธโฃ **ุงููุฑุงูุจุฉ ูุงูุณุฌูุงุช (Monitoring & Logging)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ูุธุงู ุชุณุฌูู ุงูุฃุญุฏุงุซ ุงูุดุงูู (Structured Logging)
   โข ูุฑุงูุจุฉ ุงูุฃุฏุงุก ูุงูููุงุฑุฏ (APM)
   โข ุชูุจููุงุช ุงูุฃุฎุทุงุก ูุงููุดุงูู ุงูุญุฑุฌุฉ (Alerting)
   โข ุชุชุจุน ุงูุฃุฎุทุงุก (Error Tracking)
   โข ููุญุงุช ุงูููุงุณ ูุงูููุงููุณ (Metrics Dashboard)

6๏ธโฃ **ุงููุณุฎ ุงูุงุญุชูุงุทู ูุงูุงุณุชุนุงุฏุฉ (Backup & Recovery)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุงุณุชุฑุงุชูุฌูุฉ ุงููุณุฎ ุงูุงุญุชูุงุทู ุงูุขูู
   โข ููุทุฉ ุงุณุชุนุงุฏุฉ ุงููุฏู (RPO - Recovery Point Objective)
   โข ููุช ุงุณุชุนุงุฏุฉ ุงููุฏู (RTO - Recovery Time Objective)
   โข ุฎุทุฉ ุงูุชุนุงูู ูู ุงูููุงุฑุซ (Disaster Recovery Plan)
   โข ุงุฎุชุจุงุฑ ุฏูุฑู ูุนูููุงุช ุงูุงุณุชุนุงุฏุฉ

7๏ธโฃ **ุงูุชูุซูู (Documentation)**
   ูุนุงููุฑ ุงูุชูููู:
   โข README ุดุงูู ููุถุญ ุงูุบุฑุถ ูุงูุงุณุชุฎุฏุงู
   โข ุชูุซูู ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ
   โข ุชูุซูู API (ุฅู ูุฌุฏ)
   โข ุชูุซูู ุงูุจููุฉ ุงููุนูุงุฑูุฉ
   โข ุชูุซูู ุงูุนูููุงุช ุงูุชุดุบูููุฉ (Runbooks)
   โข ุฏููู ุงููุณุงููุฉ (Contributing Guide)

8๏ธโฃ **ุงูุงุฎุชุจุงุฑ (Testing)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุงุฎุชุจุงุฑุงุช ุงููุญุฏุฉ (Unit Tests) - ุชุบุทูุฉ > 70%
   โข ุงุฎุชุจุงุฑุงุช ุงูุชูุงูู (Integration Tests)
   โข ุงุฎุชุจุงุฑุงุช ูู ุงูููุงูุฉ ููููุงูุฉ (E2E Tests)
   โข ุงุฎุชุจุงุฑุงุช ุงูุฃุฏุงุก ูุงูุญูู (Load/Stress Tests)
   โข ุงุฎุชุจุงุฑุงุช ุงูุฃูุงู (Security Tests)
   โข ุงุฎุชุจุงุฑุงุช ูุจูู ุงููุณุชุฎุฏู (UAT)

9๏ธโฃ **ุงูุชูุงูู (Compatibility)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุฏุนู ุงููุชุตูุญุงุช ุงูุฑุฆูุณูุฉ (Chrome, Firefox, Safari, Edge)
   โข ุงูุชูุงูู ูุน ุงูุฃุฌูุฒุฉ ุงููุฎุชููุฉ (Desktop, Mobile, Tablet)
   โข ุงูุชุตููู ุงููุชุฌุงูุจ (Responsive Design)
   โข ุฅููุงููุฉ ุงููุตูู (Accessibility - WCAG 2.1)
   โข ุฏุนู ุงููุบุงุช ุงููุชุนุฏุฏุฉ (ุฅู ูุงู ูุทููุจุงู)

๐ **ุงูุงูุชุซุงู (Compliance)**
   ูุนุงููุฑ ุงูุชูููู:
   โข ุงูุงูุชุซุงู ูู GDPR (ุฅู ูุงู ุงูุชุทุจูู ูุฎุฏู ุงูุงุชุญุงุฏ ุงูุฃูุฑูุจู)
   โข ุณูุงุณุงุช ุงูุฎุตูุตูุฉ ูุดุฑูุท ุงูุงุณุชุฎุฏุงู
   โข ุงูุงูุชุซุงู ูููุนุงููุฑ ุงูุตูุงุนูุฉ (ISO, SOC 2, ุฅูุฎ)
   โข ูุชุทูุจุงุช ุงูุชุฑุฎูุต (License Compliance)
   โข ููุงุฆุญ ุญูุงูุฉ ุงูุจูุงูุงุช ุงููุญููุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ ูููุฌูุฉ ุงูุชูููู
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูุธุงู ุงูุชูููู ููู ูุฌุงู:
- **ready** (ุฌุงูุฒ): ุงููุฌุงู ููุจู ุฌููุน ุงููุนุงููุฑ ุงูุฃุณุงุณูุฉ ูููุฌููุฒ ููุฅูุชุงุฌ
- **conditional** (ุฌุงูุฒ ุจุดุฑูุท): ุงููุฌุงู ูุญุชุงุฌ ุชุญุณููุงุช ุทูููุฉ ุฃู ูุชูุณุทุฉุ ููู ููุณุช ุญุฑุฌุฉ
- **not-ready** (ุบูุฑ ุฌุงูุฒ): ุงููุฌุงู ูุนุงูู ูู ููุต ุญุฑุฌ ูููุน ุงููุดุฑ
- **unknown** (ุบูุฑ ูุญุฏุฏ): ูุนูููุงุช ุบูุฑ ูุงููุฉ ููุชูููู

ูุธุงู ุงูุฃููููุงุช ููุชูุตูุงุช:
- **P0 (ุญุฑุฌ)**: ูุฌุจ ูุนุงูุฌุชู ูุจู ุงููุดุฑ - ูููุน ุงููุดุฑ
- **P1 (ุนุงูู)**: ูุฌุจ ูุนุงูุฌุชู ูู ุฃูุฑุจ ููุช - ูุคุซุฑ ุนูู ุงูุงุณุชูุฑุงุฑ ุฃู ุงูุฃูุงู
- **P2 (ูุชูุณุท)**: ูููุตุญ ุจูุนุงูุฌุชู ูุฑูุจุงู - ูุญุณู ุงูุฌูุฏุฉ
- **P3 (ููุฎูุถ)**: ูููู ูุนุงูุฌุชู ูุงุญูุงู - ุชุญุณููุงุช ุงุฎุชูุงุฑูุฉ

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ๏ธ ุฅุฑุดุงุฏุงุช ูุชุงุจุฉ ุงูุชูุฑูุฑ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. **ุงูุชุญููู ุงูุฃููู**:
   - ูุจู ูุชุงุจุฉ ุงูุชูุฑูุฑุ ุญูู ุงููุนูููุงุช ุงููุชููุฑุฉ ุจุนูู
   - ุญุฏุฏ ุงูุฃููุงุท ูุงูุนูุงูุงุช ุจูู ุงููุฌุงูุงุช ุงููุฎุชููุฉ
   - ุงุจุญุซ ุนู ุงููุฌูุงุช ุงููุนูููุงุชูุฉ ุงูุญุฑุฌุฉ
   - ุงุณุชูุชุฌ ูุนูููุงุช ุถูููุฉ ูู ุงูุจูุงูุงุช ุงููุชุงุญุฉ

2. **ุงูุฏูุฉ ูุงูููุถูุนูุฉ**:
   - ูุฏู ุชููููุงู ููุถูุนูุงู ูุจููุงู ุนูู ุงูุฃุฏูุฉ
   - ุงุฐูุฑ ุฃู ุงูุชุฑุงุถุงุช ููุช ุจูุง ุจูุถูุญ
   - ูุง ุชูุฏู ุชููููุงุช ูุจููุฉ ุนูู ุชุฎูููุงุช ุฅุฐุง ูุงูุช ุงูุจูุงูุงุช ุบูุฑ ูุงููุฉ
   - ุงุณุชุฎุฏู "unknown" ุนูุฏูุง ูุง ุชุชููุฑ ูุนูููุงุช ูุงููุฉ

3. **ุงููุงุจููุฉ ููุชูููุฐ**:
   - ุงุฌุนู ูู ุชูุตูุฉ ูุญุฏุฏุฉ ููุงุจูุฉ ููุชูููุฐ
   - ุฃุถู ุงูุฃููููุฉ ููู ุชูุตูุฉ
   - ุงูุชุฑุญ ุฎุทูุงุช ุนูููุฉ ูุงุถุญุฉ

4. **ุงูุดููููุฉ**:
   - ุบุทู ุฌููุน ุงููุฌุงูุงุช ุงูุนุดุฑุฉ ุญุชู ูู ูุงูุช ุงููุนูููุงุช ูุญุฏูุฏุฉ
   - ุงุฑุจุท ุงููุฌุงูุงุช ุจุจุนุถูุง ุนูุฏ ุงูุญุงุฌุฉ
   - ุญุฏุฏ ุงูุชุฃุซูุฑุงุช ุงููุชุฏุงุฎูุฉ ุจูู ุงููุฌุงูุงุช

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
๐ค ูููู ุงูุฑุฏ ุงููุทููุจ (JSON)
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

ูุฌุจ ุฃู ูููู ุงูุฑุฏ ุจุตูุบุฉ JSON ุงูุชุงููุฉ ุจุงูุถุจุท (ูู ุงููุตูุต ุจุงูุนุฑุจูุฉ):

{
  "metadata": {
    "reportDate": "ุงูุชุงุฑูุฎ ุงูุญุงูู",
    "repository": "${owner}/${repo}",
    "primaryLanguages": ["ุงููุบุฉ ุงูุฃุณุงุณูุฉ 1", "ุงููุบุฉ ุงูุฃุณุงุณูุฉ 2"]
  },
  "summary": "ูุธุฑุฉ ุนุงูุฉ ุดุงููุฉ ุนู ุงูุชุทุจูู ูุบุฑุถ ุงูุชูุฑูุฑ ูุงููุชุงุฆุฌ ุงูุฑุฆูุณูุฉ (3-5 ุฌูู)",
  "overallStatus": "ready ุฃู conditional ุฃู not-ready",
  "overallScore": "ุงููุณุจุฉ ุงููุฆููุฉ ููุฌุงูุฒูุฉ ุงูุฅุฌูุงููุฉ (0-100)",
  "readinessLevel": "ูุตู ูุตู ููุณุชูู ุงูุฌุงูุฒูุฉ (ูุซุงู: 'ุฌุงูุฒ ููุฅูุชุงุฌ ุจุนุฏ ูุนุงูุฌุฉ 3 ููุงุท ุญุฑุฌุฉ')",
  
  "domains": [
    {
      "id": 1,
      "title": "ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ",
      "status": "ready ุฃู conditional ุฃู not-ready ุฃู unknown",
      "score": "ุงููุณุจุฉ ุงููุฆููุฉ ููุฌุงูุฒูุฉ ูู ูุฐุง ุงููุฌุงู (0-100)",
      "description": "ุชูููู ุดุงูู ููุญุงูุฉ ูุน ุฐูุฑ ุงูุณูุงู ุงูููุฏุณู (2-3 ุฌูู)",
      "strengths": ["ููุทุฉ ููุฉ 1", "ููุทุฉ ููุฉ 2"],
      "weaknesses": ["ููุทุฉ ุถุนู 1", "ููุทุฉ ุถุนู 2"],
      "findings": [
        "ููุงุญุธุฉ ูุญุฏุฏุฉ ูุน ุฏููู 1",
        "ููุงุญุธุฉ ูุญุฏุฏุฉ ูุน ุฏููู 2",
        "ููุงุญุธุฉ ูุญุฏุฏุฉ ูุน ุฏููู 3"
      ],
      "recommendations": [
        {
          "priority": "P0 ุฃู P1 ุฃู P2 ุฃู P3",
          "action": "ุงูุชูุตูุฉ ุงููุญุฏุฏุฉ",
          "rationale": "ุงูุณุจุจ ูุงูุชุฃุซูุฑ ุงููุชููุน"
        }
      ],
      "missingInfo": ["ูุนูููุฉ ููููุฏุฉ 1 ูุทููุจุฉ ููุชูููู ุงููุงูู", "ูุนูููุฉ ููููุฏุฉ 2"]
    }
    // ูุฑุฑ ูุฌููุน ุงููุฌุงูุงุช ุงูุนุดุฑุฉ ุจููุณ ุงูุชุฑุชูุจ
  ],
  
  "criticalIssues": [
    {
      "domain": "ุงุณู ุงููุฌุงู",
      "issue": "ูุตู ุงููุดููุฉ ุงูุญุฑุฌุฉ",
      "impact": "ุงูุชุฃุซูุฑ ุนูู ุงูุฅูุชุงุฌ",
      "priority": "P0"
    }
  ],
  
  "recommendations": {
    "immediate": ["ุฅุฌุฑุงุก ููุฑู 1 (P0)", "ุฅุฌุฑุงุก ููุฑู 2 (P0)"],
    "shortTerm": ["ุฅุฌุฑุงุก ูุตูุฑ ุงููุฏู 1 (P1)", "ุฅุฌุฑุงุก ูุตูุฑ ุงููุฏู 2 (P1)"],
    "mediumTerm": ["ุฅุฌุฑุงุก ูุชูุณุท ุงููุฏู 1 (P2)", "ุฅุฌุฑุงุก ูุชูุณุท ุงููุฏู 2 (P2)"],
    "longTerm": ["ุฅุฌุฑุงุก ุทููู ุงููุฏู 1 (P3)", "ุฅุฌุฑุงุก ุทููู ุงููุฏู 2 (P3)"]
  },
  
  "conclusion": "ุงูุฎูุงุตุฉ ุงูููุงุฆูุฉ: ุชูููู ุงูุฌุงูุฒูุฉ ุงูุฅุฌูุงูู ูุน ุชูุตูุฉ ูุงุถุญุฉ ูุญุงุณูุฉ (ุฌุงูุฒ ููุฅูุชุงุฌ / ุฌุงูุฒ ุจุดุฑูุท / ุบูุฑ ุฌุงูุฒ) ูุน ุชุจุฑูุฑ ููุฏุณู ููุตู ูุณุชูุฏ ุฅูู ุงูุชุญููู ุงูุดุงูู. ูุฌุจ ุฃู ูุชุถูู: (1) ููุฎุต ุงููุถุน ุงูุญุงูู (2) ุงูุฎุทูุงุช ุงูุญุฑุฌุฉ ุงููุทููุจุฉ (3) ุงูุฅุทุงุฑ ุงูุฒููู ุงูููุชุฑุญ (4) ุงููุฎุงุทุฑ ุงููุญุชููุฉ (5) ุงูุชูุตูุฉ ุงูููุงุฆูุฉ ุงููุงุถุญุฉ"
}

โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ๏ธ ุชุนูููุงุช ุญุงุณูุฉ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

1. ูุฌุจ ุชุถููู ุฌููุน ุงููุฌุงูุงุช ุงูุนุดุฑุฉ ูู domains ุจููุณ ุงูุชุฑุชูุจ ุงููุฐููุฑ
2. ุฌููุน ุงููุตูุต ูุฌุจ ุฃู ุชููู ุจุงููุบุฉ ุงูุนุฑุจูุฉ ุงููุตุญู ุงูุงุญุชุฑุงููุฉ
3. ูุง ุชุณุชุฎุฏู ุฑููุฒ ุชุนุจูุฑูุฉ (emojis) ูู ูุญุชูู JSON
4. ูู ูุญุฏุฏุงู ูู ุงูุชูุตูุงุช - ุชุฌูุจ ุงูุนููููุงุช
5. ุฃุถู priority ููู ุชูุตูุฉ
6. ุฅุฐุง ูุงูุช ุงููุนูููุงุช ุบูุฑ ูุงููุฉุ ุงุณุชุฎุฏู "unknown" ูุงุฐูุฑ ุฐูู ูู missingInfo
7. ุงุฑุจุท ุงูุชูุตูุงุช ุจุงูุฃุฏูุฉ ุงููุณุชุฎุฑุฌุฉ ูู ุชุญููู ุงููุณุชูุฏุน
8. ุงุญุณุจ score ุจูุงุกู ุนูู ุงููุนุงููุฑ ุงููุณุชููุงุฉ ูู ุฅุฌูุงูู ุงููุนุงููุฑ ููู ูุฌุงู

ุงุจุฏุฃ ุงูุชุญููู ุงูุขู ููุฏู ุชูุฑูุฑุงู ููุฏุณูุงู ุดุงููุงู ูุงุญุชุฑุงููุงู.`;
};

export class ProductionReadinessReportPromptBuilder implements Plugin {
  id = 'production-readiness-report';
  name = 'Production Readiness Report Prompt Builder';
  nameAr = 'ููุดุฆ ุชูุฑูุฑ ุฌุงูุฒูุฉ ุงูุฅูุชุงุฌ';
  version = '1.0.0';
  description = 'Builds an Arabic prompt for production readiness reporting.';
  descriptionAr = 'ูุจูู ููุฌูุงู ุนุฑุจูุงู ูุฅุนุฏุงุฏ ุชูุฑูุฑ ุฌุงูุฒูุฉ ุงูุฅูุชุงุฌ.';
  category = 'documentation' as const;

  async initialize(): Promise<void> {
    console.log(`[${this.name}] Initialized`);
  }

  async execute(input: PluginInput): Promise<PluginOutput> {
    if (input.type !== 'build-prompt') {
      return {
        success: false,
        error: `Unknown operation type: ${input.type}`
      };
    }

    const data = input.data as unknown as ProductionReadinessPromptInput;

    if (!data?.owner || !data?.repo || !data?.analysisData) {
      return {
        success: false,
        error: 'Invalid input: owner, repo, and analysisData are required'
      };
    }

    return {
      success: true,
      data: {
        prompt: buildPrompt(data)
      }
    };
  }

  async shutdown(): Promise<void> {
    console.log(`[${this.name}] Shut down`);
  }
}

export const productionReadinessReportPromptBuilder = new ProductionReadinessReportPromptBuilder();
