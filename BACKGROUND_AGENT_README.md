# ๐ฏ ูุธุงู ุงููููู ุงูุฎููู - Background Agent System

> ูุธุงู ูุชูุงูู ูุชูููุถ ูุนุงูุฌุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุฅูู ุนูุงู ุงูุฎูููุฉ (Web Workers) ูุชุญุณูู ุฃุฏุงุก ุงูุชุทุจูู

[![Status](https://img.shields.io/badge/ุงูุญุงูุฉ-ููุชูู%20โ-success)](.)
[![TypeScript](https://img.shields.io/badge/TypeScript-100%25-blue)](.)
[![Documentation](https://img.shields.io/badge/ุงูุชูุซูู-ูุงูู-green)](.)
[![RTL](https://img.shields.io/badge/RTL-ูุฏุนูู-orange)](.)

---

## โก ุงูุจุฏุก ุงูุณุฑูุน (30 ุซุงููุฉ)

```tsx
// 1. ูู app/layout.tsx
import { BackgroundWorkersProvider } from "@/workers/BackgroundWorkersProvider";

export default function RootLayout({ children }) {
  return (
    <BackgroundWorkersProvider>
      {children}
    </BackgroundWorkersProvider>
  );
}

// 2. ูู ุฃู ุตูุญุฉ
import { ScriptAnalysisPanel } from "@/components/ScriptAnalysis";

export default function Page() {
  return <ScriptAnalysisPanel scriptId="..." scriptContent="..." />;
}
```

**โ ูุฐุง ูู ูุง ุชุญุชุงุฌู ููุจุฏุก!**

---

## ๐ ุงูุชูุซูู ุงููุงูู

### ๐ ุงุจุฏุฃ ููุง
- **[ููุฑุณ_ุงูุชูุซูู.md](./ููุฑุณ_ุงูุชูุซูู.md)** - ุฏูููู ููู ุงููููุงุช
- **[ููุฎุต_ุงูุชูููุฐ_ุงูููุงุฆู.md](./ููุฎุต_ุงูุชูููุฐ_ุงูููุงุฆู.md)** - ูุธุฑุฉ ุณุฑูุนุฉ ุดุงููุฉ
- **[ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md](./ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md)** - ุฃูุซูุฉ ุนูููุฉ

### ๐ ููุชุนูู
- **[ุชูุฑูุฑ_ุชูููุฐ_ุงููููู_ุงูุฎููู.md](./ุชูุฑูุฑ_ุชูููุฐ_ุงููููู_ุงูุฎููู.md)** - ุงูุชูุฑูุฑ ุงูููู ุงูุดุงูู
- **[ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md](./ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md)** - ุฎุทุฉ ุงูุชุทููุฑ
- **[BACKGROUND_AGENT_IMPLEMENTATION.md](./BACKGROUND_AGENT_IMPLEMENTATION.md)** - Technical docs (EN)

---

## ๐ฏ ูุง ูุฐุงุ

ูุธุงู ูุญูู ูุนุงูุฌุฉ ุงูุฐูุงุก ุงูุงุตุทูุงุนู ุงูุซูููุฉ ูู ุงูุฎูุท ุงูุฑุฆูุณู ุฅูู Web Workers ูู ุงูุฎูููุฉุ ููุง ููุชุฌ ุนูู:

### ูุจู ๐
```
โ ูุงุฌูุฉ ูุชุฌูุฏุฉ ูู 5-10 ุซูุงูู
โ ุงุณุชุฌุงุจุฉ ุจุทูุฆุฉ ููุชูุงุนูุงุช
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุณูุฆุฉ
```

### ุจุนุฏ ๐
```
โ ูุงุฌูุฉ ุณูุณุฉ 100%
โ ุงุณุชุฌุงุจุฉ ููุฑูุฉ
โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุงุญุชุฑุงููุฉ
```

---

## โจ ุงููููุฒุงุช

### ุงูุฃุฏุงุก
- โก **0ms ุชุฌููุฏ** ูู ุงููุงุฌูุฉ
- ๐ **10x ุชุญุณู** ูู ุงูุงุณุชุฌุงุจุฉ
- ๐ฏ **ูุนุงูุฌุฉ ูุชูุงุฒูุฉ** ููููุงู ุงูุซูููุฉ

### ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู
- ๐ ุดุฑูุท ุชูุฏู ุญู
- ๐ฏ ุนุฑุถ ุงููุญุทุฉ ุงูุญุงููุฉ
- โ ุฅููุงููุฉ ุงูุฅูุบุงุก
- ๐ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

### ุงูุชูููุฉ
- ๐ก๏ธ **100% Type-safe** ูุน TypeScript
- ๐ ุงุญุชูุงุทู ุชููุงุฆู (Fallback)
- ๐ ูุงุฌูุฉ ุนุฑุจูุฉ ูุงููุฉ (RTL)
- ๐ฆ ุณูู ุงูุฏูุฌ

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโฌโโโโโโโโโโโ
โ ูููุงุช TypeScript ุฌุฏูุฏุฉ  โ    7     โ
โ ูููุงุช ูุนุฏูุฉ             โ    3     โ
โ ูููุงุช ุชูุซูู             โ    5     โ
โ ุฅุฌูุงูู ุณุทูุฑ ุงูููุฏ       โ  ~1,145  โ
โ ุญุฌู ุงูุชูุซูู             โ  ~50 KB  โ
โ ููุช ุงูุชุทููุฑ             โ  1 ููู   โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโดโโโโโโโโโโโ
```

---

## ๐๏ธ ุงูุจููุฉ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ     Seven Stations Pipeline     โ
โโโโโโโโโโโโโฌโโโโโโโโโโโโโโโโโโโโโโ
            โ
   โโโโโโโโโโดโโโโโโโโโ
   โ                 โ
   โ                 โ
โโโโโโโโโโโ    โโโโโโโโโโโโ
โ Main    โ    โ Backgroundโ
โ Thread  โ    โ Worker    โ
โ (UI)    โ    โ (Heavy)   โ
โโโโโโโโโโโ    โโโโโโโโโโโโ
   โ Smooth      โก Fast
```

---

## ๐ป ูุซุงู ูุงูู

```tsx
"use client";
import { useScriptAnalysis } from "@/components/ScriptAnalysis";

export default function AnalysisPage() {
  const { 
    analyzeScript, 
    isAnalyzing, 
    progress, 
    currentStation,
    result,
    error 
  } = useScriptAnalysis();

  return (
    <div className="p-6" dir="rtl">
      <button 
        onClick={() => analyzeScript("id", "content")}
        disabled={isAnalyzing}
      >
        {isAnalyzing 
          ? `ุฌุงุฑู ุงูุชุญููู... ${progress}%`
          : "ุงุจุฏุฃ ุงูุชุญููู"
        }
      </button>

      {isAnalyzing && (
        <div>
          <div className="progress-bar" style={{ width: `${progress}%` }} />
          <p>{currentStation}</p>
        </div>
      )}

      {result && (
        <div>
          <h3>ุงููุชุงุฆุฌ:</h3>
          {result.stations.map(station => (
            <div key={station.stationId}>
              {station.stationName}: {station.success ? "โ" : "โ"}
            </div>
          ))}
        </div>
      )}

      {error && <p className="error">{error}</p>}
    </div>
  );
}
```

---

## ๐ ุฎุทูุงุช ุงูุชุดุบูู

### 1. ุงูุชููุฆุฉ ุงูุฃูููุฉ
```bash
# ุชุฃูุฏ ูู ุชุซุจูุช dependencies
pnpm install

# ุฃุถู Provider ูู root layout (ุฑุงุฌุน ุฏููู ุงูุงุณุชุฎุฏุงู)
```

### 2. ุงูุชุทููุฑ
```bash
pnpm dev
```

### 3. ุงูุงุฎุชุจุงุฑ
- ุงูุชุญ ุงููุชุตูุญ ุนูู `http://localhost:5000`
- ุฌุฑุจ ุตูุญุฉ ุงูุชุญููู
- ุฑุงูุจ Console ููุชุญูู ูู ุงูุชููุฆุฉ

---

## ๐ ูููู ุงููููุงุช

```
frontend/src/
โโโ workers/
โ   โโโ pipeline-agent.worker.ts       # ุงูุนุงูู ุงูุฎููู
โ   โโโ pipeline-agent-manager.ts      # ุงููุฏูุฑ
โ   โโโ pipeline-agent-types.ts        # ุงูุฃููุงุน
โ   โโโ initializer.ts                 # ุงูุชููุฆุฉ
โ   โโโ BackgroundWorkersProvider.tsx  # React Provider
โ
โโโ components/
โ   โโโ ScriptAnalysis.tsx             # ูุงุฌูุฉ ุงููุณุชุฎุฏู
โ
โโโ orchestration/
    โโโ pipeline-orchestrator.ts       # ุงูููุณู (ูุนุฏู)
    โโโ executor.ts                    # ุงููููุฐ (ูุนุฏู)
```

---

## โ Checklist ูุจู ุงูุฅูุชุงุฌ

- [ ] ุฅุถุงูุฉ BackgroundWorkersProvider ูู root layout
- [ ] ุงุฎุชุจุงุฑ ูู development
- [ ] ุงุฎุชุจุงุฑ ูู production build
- [ ] ุงุฎุชุจุงุฑ ูู ูุชุตูุญุงุช ูุฎุชููุฉ
- [ ] ุฑุจุท API ุงูุญููููุฉ
- [ ] ุฅุถุงูุฉ Sentry ูููุฑุงูุจุฉ
- [ ] ุฅุถุงูุฉ ุงุฎุชุจุงุฑุงุช Unit/Integration
- [ ] ูุฑุงุฌุนุฉ ุงูุฃุฏุงุก
- [ ] ุชูุซูู ุฃู ุชุบููุฑุงุช

---

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก

### "Worker not initialized"
```tsx
// ุชุฃูุฏ ูู ุฅุถุงูุฉ Provider ูู root layout
<BackgroundWorkersProvider>
  {children}
</BackgroundWorkersProvider>
```

### ุงูุชุญููู ุจุทูุก ุฌุฏุงู
```tsx
// ุฒุฏ ุงููููุฉ ุงูุฒูููุฉ
await analyzeScript(id, content, { 
  timeout: 180000  // 3 ุฏูุงุฆู
});
```

### ุงููุฒูุฏ ูู ุงูุญููู
ุฑุงุฌุน [ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md](./ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md#ุงุณุชูุดุงู-ุงูุฃุฎุทุงุก)

---

## ๐ ุชุนูู ุงููุฒูุฏ

### ูููุจุชุฏุฆูู
1. [ููุฎุต_ุงูุชูููุฐ_ุงูููุงุฆู.md](./ููุฎุต_ุงูุชูููุฐ_ุงูููุงุฆู.md) - 5 ุฏูุงุฆู
2. [ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md](./ุฏููู_ุงูุงุณุชุฎุฏุงู_ุงูุณุฑูุน.md) - 10 ุฏูุงุฆู
3. ุฌุฑุจ ุงูุฃูุซูุฉ ุนูููุงู

### ูููุชูุฏููู
1. [ุชูุฑูุฑ_ุชูููุฐ_ุงููููู_ุงูุฎููู.md](./ุชูุฑูุฑ_ุชูููุฐ_ุงููููู_ุงูุฎููู.md) - 30 ุฏูููุฉ
2. [ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md](./ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md) - 15 ุฏูููุฉ
3. ุฑุงุฌุน ุงูููุฏ ุงููุตุฏุฑู

---

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจูุณุงููุงุชู! ููููู:
- ๐ ุงูุฅุจูุงุบ ุนู ุงูุฃุฎุทุงุก
- โจ ุงูุชุฑุงุญ ููุฒุงุช ุฌุฏูุฏุฉ
- ๐ ุชุญุณูู ุงูุชูุซูู
- ๐ง ุฅุตูุงุญ ุงูุฃุฎุทุงุก

ุฑุงุฌุน [ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md](./ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md) ููุนุฑูุฉ ุงูููุงู ุงููุทููุจุฉ.

---

## ๐ ุงูุฏุนู

- ๐ **ุงูุชูุซูู:** [ููุฑุณ_ุงูุชูุซูู.md](./ููุฑุณ_ุงูุชูุซูู.md)
- ๐ **ุงูุฃุฎุทุงุก:** ุงูุชุญ Issue
- ๐ฌ **ุฃุณุฆูุฉ:** ุฑุงุฌุน ุงูุชูุซูู ุฃููุงู
- ๐ง **ุชูุงุตู:** ุนุจุฑ ูุฑูู ุงููุดุฑูุน

---

## ๐ ุงูุชุฑุฎูุต

ุญุณุจ ุชุฑุฎูุต ุงููุดุฑูุน ุงูุฃุตูู.

---

## ๐ ุงูุดูุฑ

ุชู ุจูุงุก ูุฐุง ุงููุธุงู ุจูุงุณุทุฉ **GitHub Copilot CLI** ูู ููู ูุงุญุฏ ููุซู ูู ุงูุชุทููุฑ ูุงูุชูุซูู.

---

## ๐ ุงูุชุทููุฑ ุงููุณุชูุจูู

ุงูุฎุทุท ุงููุงุฏูุฉ (ุฑุงุฌุน [ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md](./ูุงุฆูุฉ_ุงูููุงู_ุงููุชุจููุฉ.md)):
- โ Worker Pooling
- โ ูุนุงูุฌุฉ ูุชูุงุฒูุฉ
- โ State Persistence
- โ ุชุญุณููุงุช ุงูุฃุฏุงุก
- โ ูุฑุงูุจุฉ ูุชูุฏูุฉ

---

<div align="center">

**โจ ุจูู ุจู โค๏ธ ุจุงุณุชุฎุฏุงู TypeScript, React, ู Web Workers โจ**

**๐ ููุชูู 100% ูุฌุงูุฒ ููุงุณุชุฎุฏุงู! ๐**

[ุงูุจุฏุก ุงูุณุฑูุน](#-ุงูุจุฏุก-ุงูุณุฑูุน-30-ุซุงููุฉ) โข 
[ุงูุชูุซูู](#-ุงูุชูุซูู-ุงููุงูู) โข 
[ุงููููุฒุงุช](#-ุงููููุฒุงุช) โข 
[ุงูุฃูุซูุฉ](#-ูุซุงู-ูุงูู)

</div>
